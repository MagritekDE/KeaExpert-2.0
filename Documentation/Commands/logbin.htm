<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<title>logspace- generate a logarithmically spaced vector</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-NZ link=blue vlink=purple>

<div class=WordSection1>

<p class=MsoNormal style='background:#FF6600'><b><span style='font-size:20.0pt'>logbin</span></b></p>

<p class=MsoNormal style='text-indent:36.0pt'><i><span lang=EN-AU
style='font-family:"Tahoma","sans-serif"'>&nbsp;</span></i></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU>Take a large
linearly spaced data set and replace it by a smaller logarithmically binned
one.</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:14.0pt'>Syntax</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>(xOut,yOut) = logbin(xIn,
yIn, binSize)    (eee:vvf)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>xIn ....... x axis of linear
vector (VECTOR)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>yIn ....... y axis of linear
vector (VECTOR)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>binSize ... number of points
in output data set</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>xOut ...... location of bin
centers (VECTOR)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New"'>yOut ...... log bin result
(VECTOR)</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:14.0pt'>Description</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU>Some NMR
experiments can only collect data with a linearly spacing of results (e.g. CPMG
echoes). However inverse Laplace spectral analysis works best when the data is
logarithmically spaced. This command enables this to happen by first working
out an ideally spaced logarithmic axis – effectively equivalent to </span></p>

<p class=MsoNormal style='text-indent:14.2pt'><span lang=EN-AU>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:14.2pt'><span lang=EN-AU>xLog =
logspace(xMin, xMax, binSize)</span></p>

<p class=MsoNormal style='text-indent:14.2pt'><span lang=EN-AU>&nbsp;</span></p>

<p class=MsoNormal style='text-indent:14.2pt'><span lang=EN-AU>where xMin and
xMax are the smallest and largest values in xIn.</span></p>

<p class=MsoNormal style='text-indent:14.2pt'><span lang=EN-AU>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU>Because the
first few points in this array can be much closer together than the spacing of
data points in the original array in this case the new “binned” points are
actually determined by linear interpolation. As the logarithmically spaced
points get further apart the original array points are then averaged either
side of the xLog points. The last point doesn’t have points either side and so
is determined by a linear fit of the last bin. Because of the discrete nature
of the data set the resultant xOut values are slightly different from xLog and
so the log spacing is never ideal – especially for some of the first points.</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:14.0pt'>Example</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>This example
generates a biexponential decaying signal (x,y) which has been linearly
sampled. It is then log binned to 50 points. </span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:11.0pt;font-family:"Tahoma","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>x =
[0.1:0.1:1000]</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>y = </span><span
style='font-size:10.0pt;font-family:"Courier New";color:green'>exp</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(-x/20) + </span><span
style='font-size:10.0pt;font-family:"Courier New";color:green'>exp</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(-x/200)</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:green'>plot</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(x,y)</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(xl,yl) = </span><span
style='font-size:10.0pt;font-family:"Courier New";color:green'>logbin</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(x,y,50)</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New";color:green'>plot</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>(xl,yl,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:gray'>&quot;symbolshape&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:gray'>&quot;circle&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span style='font-size:10.0pt;
font-family:"Courier New";color:green'>axes</span><span style='font-size:10.0pt;
font-family:"Courier New";color:black'>(</span><span style='font-size:10.0pt;
font-family:"Courier New";color:gray'>&quot;xmapping&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>,</span><span
style='font-size:10.0pt;font-family:"Courier New";color:gray'>&quot;log&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>)</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span style='font-size:10.0pt;
font-family:"Courier New";color:green'>title</span><span style='font-size:10.0pt;
font-family:"Courier New";color:black'>(</span><span style='font-size:10.0pt;
font-family:"Courier New";color:gray'>&quot;Log binning example&quot;</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>)</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:10.0pt;font-family:"Courier New";
color:purple'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=EN-AU
style='font-size:10.0pt;font-family:"Courier New";color:purple'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span style='font-size:10.0pt;
font-family:"Courier New";color:purple'><img width=644 height=320 id="Picture 2"
src="logbin_files/image001.png"></span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-AU style='font-size:14.0pt'>See also</span></p>

<p class=MsoNormal><span lang=EN-AU>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-AU><a href="pseudologbin.htm">pseudologbin</a></span></p>

</div>

</body>

</html>
